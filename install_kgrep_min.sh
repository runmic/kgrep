#!/bin/bash

# Install script to create kgrep
cat << 'EOF' | sudo tee /usr/local/bin/kgrep > /dev/null
z="
";kz='use ';pCz='y."';HGz='r $B';iIz='n/g;';XEz=''\'')';hz=' que';eEz='Plea';iDz='AIL&';sEz='essf';tHz='pace';bCz='oved';Bz='N_FI';QIz=' has';iGz='elet';OBz='igur';wz='n to';tIz='%b\n';SIz='s/<a';YGz=' "In';qFz='Y="$';nBz='d qu';NFz='"-h"';ICz='loca';GFz='elif';tDz=']]; ';dz='Y   ';tBz=' "yo';KBz='e kg';xDz='fail';Rz=' <co';aFz='ease';gEz='heck';PHz='NED_';vHz=':spa';qEz='"';QDz='/aut';MGz='on" ';nGz=' Ple';iEz='r em';CGz='\';lHz='aili';Uz='opti';TEz=' | j';qDz='"det';VIz=''\''"'\''"';GDz='RESP';VCz='f "$';qBz='quot';dBz='p lo';GHz='\)".';nz='itho';bHz='/;  ';JHz=' "Er';MEz='".*$';lCz='lled';GBz='stal';QHz='=$(e';TCz='hen';BGz='erqu';dIz='>/(\';WBz=' hel';tz='    ';xFz='cat)';BDz='sswo';QFz='elp"';gFz=''\''kgr';JGz='R_TO';vGz='ERRO';DIz='e do';tCz=' -p ';yBz='EOM';TIz=' hre';ABz='hent';hEz=' you';cBz='kgre';IIz='s/\\';bEz=' ]];';KGz='KEN"';fBz='p -q';gGz='LE" ';DEz='PONS';dEz='ed. ';YDz='n/x-';wFz='Y=$(';gIz='s/<b';nDz='[ "$';bz='ery ';RHz='cho ';RIz='htag';kHz='e tr';jz='can ';lBz='ulti';vDz=' "Lo';rIz='prin';iHz='\x27';RGz='ERY\';WEz='oken';jFz='= "-';HCz='usr/';ez='   E';rDz='ail\';EBz='n';OGz='ext\';mFz='-que';Fz='grep';BHz='s/^.';jIz='epla';YCz='ken ';iCz='been';hIz='r>/\';Gz='_tok';dCz='m $T';mDz='")';aEz='ull"';cFz=' in ';wCz='" EM';XFz='en f';LCz='rep';VGz='hori';Dz='$HOM';dFz='firs';UHz='SE" ';LGz='n/js';KFz='"uni';dGz='ging';ZHz='"\x2';fGz='..."';LEz='.*\)';YEz='N" =';rGz='gain';qHz=']]+/';AFz='1" =';yHz='hite';UGz='naut';wGz='R_MS';IEz='deta';fz='xecu';FIz=' ast';mIz=' a l';oGz='ase ';pz='uote';hBz='t qu';WHz='d -E';PIz='//g;';TDz='Cont';jHz=']+$/';OEz=''\'')"';kEz='pass';vEz='n sa';EFz='; th';wDz='gin ';XGz='* ]]';VBz='this';Pz='Usag';oz='ut q';lz='spac';cIz='<\/a';nEz='"$TO';sGz=' usi';QGz='"$QU';nCz='cess';UDz='ent-';WDz=': ap';ZGz='vali';NIz='ve \';uHz='s/[[';KIz='/g; ';aIz=''\'']>[';XIz='^"'\''"';EHz='": "';tGz='ng '\''';bFz=' log';JEz='il":';UEz='q -r';NCz='[ -f';YHz='s/^[';LHz=' $ER';wEz='ved ';kDz='PASS';hGz=' # D';dHz='e le';QCz='_FIL';QEz=' "$R';fFz='ing ';gCz=' "kg';GEz=' '\''s/';ADz=' "Pa';ZFz='. Pl';FFz='en';DCz='l() ';KHz='ror:';eFz='t us';JDz='url ';yCz=' -sp';NGz='{\"t';PCz='OKEN';mBz='-wor';SGz='"}")';IGz='EARE';CBz='ion ';QBz='-h, ';rFz='@"';BEz='ho "';bIz='^<]*';EGz='oriz';BCz=' 1';WIz=''\'']([';gz='te a';bGz='ken.';lEz='."';cCz=' fro';yEz='LE."';sHz='ites';LFz='ll" ';kFz='q" |';OHz='CLEA';vz='og i';uBz='ur q';nHz='s';yGz=' | s';Jz='e() ';rBz='es';jEz='ail ';IFz='"$1"';SCz=']; t';RFz='BEAR';ZDz='www-';BBz='icat';eIz='1)/g';qIz='ne';DHz='tail';AIz='s/\*';Az='TOKE';nIz='iter';UCz='rm -';VFz=' "No';PFz='"--h';FGz='n: B';BFz='= "l';kCz='nsta';EDz='SSWO';sFz='-p /';SBz='lp  ';fIz=';';uIz='" "$';THz='SPON';aBz='Exam';rCz='n() ';aHz='7]+/';TGz=' *"U';Lz='cat ';tEz='ul! ';xHz='ng w';CCz='}';GGz='eare';DFz='" ]]';ZIz='+)["';Zz='-q, ';FEz=' sed';FBz='unin';pEz='FILE';SFz='ER_T';oEz='KEN_';SDz='-H "';cz='QUER';mz='es w';WCz='LE"';kGz='e to';Kz='{';HFz=' [[ ';PEz='N=$(';Hz='en"';JCz='l/bi';yz=' aut';BIz='\*//';FCz=' rm ';aCz=' rem';RCz='E" ]';eCz='E."';bBz='ples';CIz='g;  ';UBz='how ';HEz='^.*"';oIz='al n';xEz='to $';uCz='"Ema';XHz=' '\''';IBz='   R';oBz='with';Xz='ands';sIz='tf "';hDz='=$EM';mGz='ted.';WFz=' tok';jBz='s   ';mCz=' suc';aDz='form';hHz='s/["';rz='logi';gHz='otes';VHz='| se';DGz='Auth';mHz='ng q';TBz='   S';VEz=' '\''.t';iFz=''\''."';FHz='\(.*';dDz='ded"';sDz='""* ';HIz='ks';vBz='uery';qCz=' 0';pBz='out ';LDz='X PO';MBz='and ';lIz='br> ';gDz='acct';wBz='" | ';qz='s)';cHz=' # R';CHz='*"de';CDz='rd: ';xGz='G=$(';Nz='<<EO';tFz='dev/';EIz='uble';HHz='*$/\';yDz='ed: ';hFz='ep l';fEz='se c';sz='n   ';WGz='zed"';ZCz='file';CFz='ogin';IHz='1/'\'')';az='--qu';NDz='ttps';MHz='ROR_';nFz='ry" ';Yz=':';Tz='d> [';jCz=' uni';RDz='h \';RBz='--he';CEz='$RES';NHz='MSG"';YBz='ssag';uGz='gin'\''';DBz='toke';Mz='>&2 ';yFz=':800';ECz='sudo';ZEz='= "n';MCz='if [';TFz='=$(<';YFz='ound';cGz=' Log';gBz=' tes';vFz='n ]]';MFz='l';KCz='n/kg';aGz='d to';xCz='AIL';JIz='"/\"';Oz='M';ACz='exit';xBz='p';Sz='mman';pDz=' *"\';KDz='-s -';AHz='ed '\''';DDz='" PA';NBz='conf';XDz='plic';UIz='f=["';oHz='[:sp';ZBz='e';lFz='| "$';sCz='read';rHz='g wh';iBz='word';sBz='echo';bDz='-url';jDz='pw=$';iz='ry (';xz=' get';mEz='" > ';EEz='E" |';GIz='eris';MDz='ST h';HBz='l   ';oDz='" ==';KEz=' "\(';ODz='://k';GCz='-f /';OCz=' "$T';SEz='NSE"';Iz='usag';IDz='=$(c';XBz='p me';Cz='LE="';AGz='0/us';uDz='then';pHz='ace:';LBz='rep ';pFz='t';oCz='full';uEz='Toke';oFz='shif';hCz='has ';jGz='e th';Vz='ons]';JFz=' == ';cEz=' the';AEz='$(ec';Wz='Comm';Ez='E/.k';VDz='Type';kBz=' # M';cDz='enco';FDz='RD';PBz='atio';MIz='Remo';OIz='s/##';rEz='succ';NEz='/\1/';HDz='ONSE';uFz='stdi';eDz=' \';vCz='il: ';lGz='dele';fCz='fi';eHz='adin';fDz='-d "';eGz=' out';kIz='ce <';OFz=' || ';PGz='": \';SHz='"$RE';pGz='log ';Qz='e: k';qGz='in a';wHz='ce:]';eBz='gin';UFz='else';YIz=''\''"'\'']';REz='ESPO';lDz='WORD';fHz='g qu';XCz=' "To';PDz='.com';uz='   L';JBz='emov';LIz='  # ';pIz='ewli';
eval "$Az$Bz$Cz$Dz$Ez$Fz$Gz$Hz$z$Iz$Jz$Kz$z$Lz$Mz$Nz$Oz$z$Pz$Qz$Fz$Rz$Sz$Tz$Uz$Vz$z$Wz$Xz$Yz$z$Zz$az$bz$cz$dz$ez$fz$gz$hz$iz$jz$kz$lz$mz$nz$oz$pz$qz$z$rz$sz$tz$tz$tz$uz$vz$wz$xz$yz$ABz$BBz$CBz$DBz$EBz$z$FBz$GBz$HBz$tz$tz$IBz$JBz$KBz$LBz$MBz$NBz$OBz$PBz$EBz$z$QBz$RBz$SBz$tz$tz$TBz$UBz$VBz$WBz$XBz$YBz$ZBz$z$aBz$bBz$Yz$z$cBz$dBz$eBz$z$cBz$fBz$gBz$hBz$bz$iBz$jBz$kBz$lBz$mBz$nBz$bz$oBz$pBz$qBz$rBz$z$sBz$tBz$uBz$vBz$wBz$cBz$xBz$z$yBz$z$ACz$BCz$z$CCz$z$FBz$GBz$DCz$Kz$z$ECz$FCz$GCz$HCz$ICz$JCz$KCz$LCz$z$MCz$NCz$OCz$PCz$QCz$RCz$SCz$TCz$z$UCz$VCz$Az$Bz$WCz$z$sBz$XCz$YCz$ZCz$aCz$bCz$cCz$dCz$PCz$QCz$eCz$z$fCz$z$sBz$gCz$LBz$hCz$iCz$jCz$kCz$lCz$mCz$nCz$oCz$pCz$z$ACz$qCz$z$CCz$z$rz$rCz$Kz$z$sCz$tCz$uCz$vCz$wCz$xCz$z$sCz$yCz$ADz$BDz$CDz$DDz$EDz$FDz$z$sBz$z$GDz$HDz$IDz$JDz$KDz$LDz$MDz$NDz$ODz$Fz$PDz$QDz$RDz$z$SDz$TDz$UDz$VDz$WDz$XDz$PBz$YDz$ZDz$aDz$bDz$cDz$dDz$eDz$z$fDz$gDz$hDz$iDz$jDz$kDz$lDz$mDz$z$MCz$nDz$GDz$HDz$oDz$pDz$qDz$rDz$sDz$tDz$uDz$z$sBz$vDz$wDz$xDz$yDz$AEz$BEz$CEz$DEz$EEz$FEz$GEz$HEz$IEz$JEz$KEz$LEz$MEz$NEz$OEz$z$ACz$BCz$z$fCz$z$Az$PEz$sBz$QEz$REz$SEz$TEz$UEz$VEz$WEz$XEz$z$MCz$nDz$Az$YEz$ZEz$aEz$bEz$cEz$EBz$z$sBz$vDz$wDz$xDz$dEz$eEz$fEz$gEz$hEz$iEz$jEz$MBz$kEz$iBz$lEz$z$ACz$BCz$z$fCz$z$sBz$OCz$PCz$mEz$nEz$oEz$pEz$qEz$z$sBz$vDz$wDz$rEz$sEz$tEz$uEz$vEz$wEz$xEz$Az$Bz$yEz$z$ACz$qCz$z$CCz$z$MCz$nDz$AFz$BFz$CFz$DFz$EFz$FFz$z$rz$EBz$z$GFz$HFz$IFz$JFz$KFz$kCz$LFz$tDz$uDz$z$FBz$GBz$MFz$z$GFz$HFz$IFz$JFz$NFz$OFz$IFz$JFz$PFz$QFz$bEz$cEz$EBz$z$Iz$ZBz$z$fCz$z$MCz$NCz$OCz$PCz$QCz$RCz$SCz$TCz$z$RFz$SFz$PCz$TFz$nEz$oEz$pEz$mDz$z$UFz$z$sBz$VFz$WFz$XFz$YFz$ZFz$aFz$bFz$cFz$dFz$eFz$fFz$gFz$hFz$CFz$iFz$z$ACz$BCz$z$fCz$z$MCz$nDz$AFz$jFz$kFz$lFz$AFz$jFz$mFz$nFz$tDz$uDz$z$oFz$pFz$z$cz$qFz$rFz$z$GFz$HFz$sFz$tFz$uFz$vFz$EFz$FFz$z$cz$wFz$xFz$z$UFz$z$Iz$ZBz$z$fCz$z$GDz$HDz$IDz$JDz$KDz$LDz$MDz$NDz$ODz$Fz$PDz$yFz$AGz$BGz$bz$CGz$z$SDz$DGz$EGz$PBz$FGz$GGz$HGz$IGz$JGz$KGz$eDz$z$SDz$TDz$UDz$VDz$WDz$XDz$PBz$LGz$MGz$CGz$z$fDz$NGz$OGz$PGz$QGz$RGz$SGz$z$MCz$nDz$GDz$HDz$oDz$pDz$qDz$rDz$sDz$tDz$uDz$z$MCz$nDz$GDz$HDz$oDz$TGz$UGz$VGz$WGz$XGz$EFz$FFz$z$sBz$YGz$ZGz$aGz$bGz$cGz$dGz$eGz$fGz$z$UCz$VCz$Az$Bz$gGz$hGz$iGz$jGz$kGz$YCz$ZCz$z$sBz$XCz$YCz$lGz$mGz$nGz$oGz$pGz$qGz$rGz$sGz$tGz$cBz$dBz$uGz$lEz$z$ACz$BCz$z$fCz$z$vGz$wGz$xGz$sBz$QEz$REz$SEz$yGz$AHz$BHz$CHz$DHz$EHz$FHz$GHz$HHz$IHz$z$sBz$JHz$KHz$LHz$MHz$NHz$z$UFz$z$OHz$PHz$GDz$HDz$QHz$RHz$SHz$THz$UHz$VHz$WHz$XHz$z$YHz$ZHz$aHz$bHz$tz$tz$tz$cHz$JBz$dHz$eHz$fHz$gHz$z$hHz$iHz$jHz$bHz$tz$tz$tz$cHz$JBz$kHz$lHz$mHz$pz$nHz$z$YHz$oHz$pHz$qHz$bHz$tz$tz$cHz$JBz$dHz$eHz$rHz$sHz$tHz$z$uHz$vHz$wHz$jHz$bHz$tz$tz$cHz$JBz$kHz$lHz$xHz$yHz$lz$ZBz$z$AIz$BIz$CIz$tz$tz$tz$tz$cHz$JBz$DIz$EIz$FIz$GIz$HIz$z$IIz$JIz$KIz$tz$tz$tz$tz$LIz$MIz$NIz$z$OIz$PIz$tz$tz$tz$tz$tz$cHz$JBz$DIz$EIz$QIz$RIz$nHz$z$SIz$TIz$UIz$VIz$WIz$XIz$YIz$ZIz$VIz$aIz$bIz$cIz$dIz$eIz$fIz$z$gIz$hIz$iIz$tz$tz$tz$tz$cHz$jIz$kIz$lIz$oBz$mIz$nIz$oIz$pIz$qIz$z$XEz$z$rIz$sIz$tIz$uIz$OHz$PHz$GDz$HDz$qEz$z$fCz"
EOF

# Make the kgrep script executable
sudo chmod +x /usr/local/bin/kgrep

echo "kgrep has been installed successfully! Use 'kgrep login' to start."
