#!/bin/bash

# Install script to create kgrep
cat << 'EOF' | sudo tee /usr/local/bin/kgrep > /dev/null
z="
";ODz='://k';NHz='MSG"';qCz=' 0';CDz='rd: ';ZGz='vali';Rz=' <co';XGz='* ]]';mBz='-wor';OGz='ext\';YHz='s/^[';gGz='LE" ';CFz='ogin';CEz='$RES';rGz='gain';CIz='g;  ';XEz=''\'')';KDz='-s -';SCz=']; t';bGz='ken.';YCz='ken ';IBz='   R';hDz='=$EM';DFz='" ]]';UDz='ent-';TFz='=$(<';mHz='ng q';dHz='e le';nCz='cess';vz='og i';YDz='n/x-';fz='xecu';WHz='d -E';qBz='quot';SEz='NSE"';KFz='"uni';JHz=' "Er';WCz='LE"';GDz='RESP';dBz='p lo';uDz='then';tIz='tf "';dIz='<\/a';VBz='this';BBz='icat';TGz=' *"U';JDz='url ';UIz='*hre';KEz=' "\(';rHz='g wh';Dz='$HOM';yBz='EOM';NFz='"-h"';lCz='lled';oDz='" ==';vFz='n ]]';kIz='epla';eFz='t us';dFz='firs';SHz='"$RE';lz='spac';mIz='br> ';oBz='with';Lz='cat ';cz='QUER';UHz='SE" ';tDz=']]; ';Bz='N_FI';VHz='| se';Nz='<<EO';vHz=':spa';nBz='d qu';Jz='e() ';YFz='ound';bIz=''\'']>[';Fz='grep';lBz='ulti';XCz=' "To';aEz='ull"';vGz='ERRO';DBz='toke';yGz=' | s';nDz='[ "$';VDz='Type';yHz='hite';oz='ut q';JCz='l/bi';XHz=' '\''';fGz='..."';OCz=' "$T';bHz='/;  ';MBz='and ';aIz='+)["';ZFz='. Pl';OFz=' || ';eDz=' \';Kz='{';iBz='word';tHz='pace';PDz='.com';iz='ry (';rCz='n() ';qGz='in a';xHz='ng w';gDz='acct';FIz=' ast';qEz='"';QGz='"$QU';WFz=' tok';LCz='rep';dz='Y   ';DIz='e do';yz=' aut';HEz='^.*"';sEz='essf';RGz='ERY\';TEz=' | j';BIz='\*//';Ez='E/.k';Mz='>&2 ';mz='es w';mEz='" > ';NCz='[ -f';HGz='r $B';aFz='ease';BEz='ho "';tBz=' "yo';uCz='"Ema';Vz='ons]';SBz='lp  ';HFz=' [[ ';CGz='\';lEz='."';RDz='h \';hz=' que';kEz='pass';cHz=' # R';dGz='ging';hGz=' # D';cIz='^<]*';tCz=' -p ';DGz='Auth';YEz='N" =';qIz='ewli';Hz='en"';IGz='EARE';UBz='how ';BFz='= "l';jGz='e th';RCz='E" ]';YIz='^"'\''"';HCz='usr/';MIz='Remo';GIz='eris';cGz=' Log';pIz='al n';IIz='s/\\';LBz='rep ';cCz=' fro';qz='s)';JEz='il":';oFz='shif';fHz='g qu';DEz='PONS';iDz='AIL&';mCz=' suc';wFz='Y=$(';ZHz='"\x2';rDz='ail\';vCz='il: ';TIz='[^>]';WEz='oken';AEz='$(ec';uz='   L';aHz='7]+/';Uz='opti';MEz='".*$';kHz='e tr';MHz='ROR_';jBz='s   ';Sz='mman';AFz='1" =';nGz=' Ple';pBz='out ';rFz='@"';Gz='_tok';KHz='ror:';hFz='ep l';EHz='": "';ZCz='file';LDz='X PO';HIz='ks';PGz='": \';eGz=' out';bEz=' ]];';RBz='--he';Pz='Usag';GGz='eare';uGz='gin'\''';IDz='=$(c';NBz='conf';dCz='m $T';ADz=' "Pa';rEz='succ';CHz='*"de';RFz='BEAR';EEz='E" |';cEz=' the';qHz=']]+/';lIz='ce <';eHz='adin';Iz='usag';THz='SPON';wHz='ce:]';sHz='ites';XIz=''\'']([';BDz='sswo';BCz=' 1';fBz='p -q';gz='te a';YBz='ssag';kCz='nsta';yFz=':800';pGz='log ';QBz='-h, ';KBz='e kg';EGz='oriz';hEz=' you';OEz=''\'')"';jCz=' uni';tz='    ';jDz='pw=$';hHz='s/["';Wz='Comm';EIz='uble';ez='   E';xFz='cat)';bDz='-url';kDz='PASS';xGz='G=$(';MCz='if [';HHz='*$/\';ZBz='e';hBz='t qu';oCz='full';qDz='"det';Oz='M';aCz=' rem';JIz='"/\"';gEz='heck';jEz='ail ';TDz='Cont';dDz='ded"';gBz=' tes';NEz='/\1/';iCz='been';fEz='se c';EDz='SSWO';ZDz='www-';OHz='CLEA';Az='TOKE';Yz=':';wz='n to';YGz=' "In';QHz='=$(e';wGz='R_MS';AIz='s/\*';FHz='\(.*';UFz='else';OIz='s/##';GHz='\)".';IHz='1/'\'')';kFz='q" |';xCz='AIL';eBz='gin';oIz='iter';jFz='= "-';xEz='to $';Zz='-q, ';yCz=' -sp';bCz='oved';fDz='-d "';hCz='has ';LGz='n/js';NDz='ttps';FDz='RD';WBz=' hel';fCz='fi';KGz='KEN"';XDz='plic';VFz=' "No';sBz='echo';pEz='FILE';gIz=';';vEz='n sa';EFz='; th';REz='ESPO';sIz='prin';iEz='r em';LHz=' $ER';VIz='f=["';iIz='r>/\';QCz='_FIL';oHz='[:sp';uEz='Toke';sGz=' usi';PBz='atio';LFz='ll" ';gFz=''\''kgr';OBz='igur';Qz='e: k';MFz='l';TCz='hen';LEz='.*\)';LIz='  # ';rIz='ne';fIz='1)/g';lFz='| "$';gCz=' "kg';gHz='otes';GFz='elif';kGz='e to';uHz='s/[[';lHz='aili';yDz='ed: ';eIz='>/(\';ZEz='= "n';sFz='-p /';uBz='ur q';HDz='ONSE';BGz='erqu';hIz='s/<b';WIz=''\''"'\''"';SIz='s/<a';EBz='n';nFz='ry" ';oGz='ase ';FGz='n: B';GBz='stal';ECz='sudo';QIz=' has';mFz='-que';KIz='/g; ';lGz='dele';az='--qu';VCz='f "$';nHz='s';vIz='" "$';TBz='   S';vDz=' "Lo';Tz='d> [';NGz='{\"t';iHz='\x27';sCz='read';GCz='-f /';tGz='ng '\''';wDz='gin ';aDz='form';aBz='Exam';UEz='q -r';WGz='zed"';NIz='ve \';Xz='ands';vBz='uery';SGz='"}")';FBz='unin';VGz='hori';pHz='ace:';pCz='y."';FEz=' sed';ABz='hent';SFz='ER_T';XBz='p me';BHz='s/^.';ZIz=''\''"'\'']';nEz='"$TO';lDz='WORD';xz=' get';eEz='Plea';GEz=' '\''s/';PFz='"--h';ICz='loca';bz='ery ';SDz='-H "';AHz='ed '\''';bFz=' log';AGz='0/us';dEz='ed. ';cBz='kgre';QEz=' "$R';PHz='NED_';ACz='exit';JBz='emov';JGz='R_TO';MGz='on" ';cFz=' in ';KCz='n/kg';iFz=''\''."';pFz='t';Cz='LE="';wEz='ved ';iGz='elet';DHz='tail';CCz='}';sDz='""* ';jHz=']+$/';wBz='" | ';rBz='es';uFz='stdi';PCz='OKEN';IFz='"$1"';nIz=' a l';eCz='E."';MDz='ST h';nz='itho';rz='logi';tEz='ul! ';QDz='/aut';fFz='ing ';yEz='LE."';kBz=' # M';FFz='en';pz='uote';WDz=': ap';FCz=' rm ';CBz='ion ';sz='n   ';QFz='elp"';DCz='l() ';tFz='dev/';UGz='naut';PEz='N=$(';pDz=' *"\';xBz='p';wCz='" EM';kz='use ';jz='can ';qFz='Y="$';uIz='%b\n';JFz=' == ';RIz='htag';XFz='en f';bBz='ples';PIz='//g;';DDz='" PA';aGz='d to';VEz=' '\''.t';jIz='n/g;';HBz='l   ';xDz='fail';mGz='ted.';UCz='rm -';oEz='KEN_';cDz='enco';mDz='")';IEz='deta';RHz='cho ';
eval "$Az$Bz$Cz$Dz$Ez$Fz$Gz$Hz$z$Iz$Jz$Kz$z$Lz$Mz$Nz$Oz$z$Pz$Qz$Fz$Rz$Sz$Tz$Uz$Vz$z$Wz$Xz$Yz$z$Zz$az$bz$cz$dz$ez$fz$gz$hz$iz$jz$kz$lz$mz$nz$oz$pz$qz$z$rz$sz$tz$tz$tz$uz$vz$wz$xz$yz$ABz$BBz$CBz$DBz$EBz$z$FBz$GBz$HBz$tz$tz$IBz$JBz$KBz$LBz$MBz$NBz$OBz$PBz$EBz$z$QBz$RBz$SBz$tz$tz$TBz$UBz$VBz$WBz$XBz$YBz$ZBz$z$aBz$bBz$Yz$z$cBz$dBz$eBz$z$cBz$fBz$gBz$hBz$bz$iBz$jBz$kBz$lBz$mBz$nBz$bz$oBz$pBz$qBz$rBz$z$sBz$tBz$uBz$vBz$wBz$cBz$xBz$z$yBz$z$ACz$BCz$z$CCz$z$FBz$GBz$DCz$Kz$z$ECz$FCz$GCz$HCz$ICz$JCz$KCz$LCz$z$MCz$NCz$OCz$PCz$QCz$RCz$SCz$TCz$z$UCz$VCz$Az$Bz$WCz$z$sBz$XCz$YCz$ZCz$aCz$bCz$cCz$dCz$PCz$QCz$eCz$z$fCz$z$sBz$gCz$LBz$hCz$iCz$jCz$kCz$lCz$mCz$nCz$oCz$pCz$z$ACz$qCz$z$CCz$z$rz$rCz$Kz$z$sCz$tCz$uCz$vCz$wCz$xCz$z$sCz$yCz$ADz$BDz$CDz$DDz$EDz$FDz$z$sBz$z$GDz$HDz$IDz$JDz$KDz$LDz$MDz$NDz$ODz$Fz$PDz$QDz$RDz$z$SDz$TDz$UDz$VDz$WDz$XDz$PBz$YDz$ZDz$aDz$bDz$cDz$dDz$eDz$z$fDz$gDz$hDz$iDz$jDz$kDz$lDz$mDz$z$MCz$nDz$GDz$HDz$oDz$pDz$qDz$rDz$sDz$tDz$uDz$z$sBz$vDz$wDz$xDz$yDz$AEz$BEz$CEz$DEz$EEz$FEz$GEz$HEz$IEz$JEz$KEz$LEz$MEz$NEz$OEz$z$ACz$BCz$z$fCz$z$Az$PEz$sBz$QEz$REz$SEz$TEz$UEz$VEz$WEz$XEz$z$MCz$nDz$Az$YEz$ZEz$aEz$bEz$cEz$EBz$z$sBz$vDz$wDz$xDz$dEz$eEz$fEz$gEz$hEz$iEz$jEz$MBz$kEz$iBz$lEz$z$ACz$BCz$z$fCz$z$sBz$OCz$PCz$mEz$nEz$oEz$pEz$qEz$z$sBz$vDz$wDz$rEz$sEz$tEz$uEz$vEz$wEz$xEz$Az$Bz$yEz$z$ACz$qCz$z$CCz$z$MCz$nDz$AFz$BFz$CFz$DFz$EFz$FFz$z$rz$EBz$z$GFz$HFz$IFz$JFz$KFz$kCz$LFz$tDz$uDz$z$FBz$GBz$MFz$z$GFz$HFz$IFz$JFz$NFz$OFz$IFz$JFz$PFz$QFz$bEz$cEz$EBz$z$Iz$ZBz$z$fCz$z$MCz$NCz$OCz$PCz$QCz$RCz$SCz$TCz$z$RFz$SFz$PCz$TFz$nEz$oEz$pEz$mDz$z$UFz$z$sBz$VFz$WFz$XFz$YFz$ZFz$aFz$bFz$cFz$dFz$eFz$fFz$gFz$hFz$CFz$iFz$z$ACz$BCz$z$fCz$z$MCz$nDz$AFz$jFz$kFz$lFz$AFz$jFz$mFz$nFz$tDz$uDz$z$oFz$pFz$z$cz$qFz$rFz$z$GFz$HFz$sFz$tFz$uFz$vFz$EFz$FFz$z$cz$wFz$xFz$z$UFz$z$Iz$ZBz$z$fCz$z$GDz$HDz$IDz$JDz$KDz$LDz$MDz$NDz$ODz$Fz$PDz$yFz$AGz$BGz$bz$CGz$z$SDz$DGz$EGz$PBz$FGz$GGz$HGz$IGz$JGz$KGz$eDz$z$SDz$TDz$UDz$VDz$WDz$XDz$PBz$LGz$MGz$CGz$z$fDz$NGz$OGz$PGz$QGz$RGz$SGz$z$MCz$nDz$GDz$HDz$oDz$pDz$qDz$rDz$sDz$tDz$uDz$z$MCz$nDz$GDz$HDz$oDz$TGz$UGz$VGz$WGz$XGz$EFz$FFz$z$sBz$YGz$ZGz$aGz$bGz$cGz$dGz$eGz$fGz$z$UCz$VCz$Az$Bz$gGz$hGz$iGz$jGz$kGz$YCz$ZCz$z$sBz$XCz$YCz$lGz$mGz$nGz$oGz$pGz$qGz$rGz$sGz$tGz$cBz$dBz$uGz$lEz$z$ACz$BCz$z$fCz$z$vGz$wGz$xGz$sBz$QEz$REz$SEz$yGz$AHz$BHz$CHz$DHz$EHz$FHz$GHz$HHz$IHz$z$sBz$JHz$KHz$LHz$MHz$NHz$z$UFz$z$OHz$PHz$GDz$HDz$QHz$RHz$SHz$THz$UHz$VHz$WHz$XHz$z$YHz$ZHz$aHz$bHz$tz$tz$tz$cHz$JBz$dHz$eHz$fHz$gHz$z$hHz$iHz$jHz$bHz$tz$tz$tz$cHz$JBz$kHz$lHz$mHz$pz$nHz$z$YHz$oHz$pHz$qHz$bHz$tz$tz$cHz$JBz$dHz$eHz$rHz$sHz$tHz$z$uHz$vHz$wHz$jHz$bHz$tz$tz$cHz$JBz$kHz$lHz$xHz$yHz$lz$ZBz$z$AIz$BIz$CIz$tz$tz$tz$tz$cHz$JBz$DIz$EIz$FIz$GIz$HIz$z$IIz$JIz$KIz$tz$tz$tz$tz$LIz$MIz$NIz$z$OIz$PIz$tz$tz$tz$tz$tz$cHz$JBz$DIz$EIz$QIz$RIz$nHz$z$SIz$TIz$UIz$VIz$WIz$XIz$YIz$ZIz$aIz$WIz$bIz$cIz$dIz$eIz$fIz$gIz$z$hIz$iIz$jIz$tz$tz$tz$tz$cHz$kIz$lIz$mIz$oBz$nIz$oIz$pIz$qIz$rIz$z$XEz$z$sIz$tIz$uIz$vIz$OHz$PHz$GDz$HDz$qEz$z$fCz"
EOF

# Make the kgrep script executable
sudo chmod +x /usr/local/bin/kgrep

echo "kgrep has been installed successfully! Use 'kgrep login' to start."
