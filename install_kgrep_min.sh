#!/bin/bash

# Install script to create kgrep
cat << 'EOF' | sudo tee /usr/local/bin/kgrep > /dev/null
z="
";EEz='E" |';ZEz='= "n';JEz='il":';GHz='\)".';aFz='ease';RFz='BEAR';WFz=' tok';ODz='://k';EHz='": "';rCz='n() ';vGz='ERRO';WEz='oken';QFz='elp"';ZFz='. Pl';UBz='how ';vFz='n ]]';uEz='Toke';kDz='PASS';UCz='rm -';REz='ESPO';bGz='ken.';hEz=' you';TCz='hen';PDz='.com';jGz='e th';cz='QUER';YCz='ken ';UHz='SE" ';OFz=' || ';pBz='out ';XCz=' "To';ADz=' "Pa';lEz='."';JFz=' == ';CEz='$RES';BEz='ho "';BGz='erqu';BHz='s/^.';yz=' aut';JBz='emov';XEz=''\'')';HDz='ONSE';DBz='toke';nFz='ry" ';GFz='elif';rBz='es';uGz='gin'\''';mGz='ted.';wGz='R_MS';CBz='ion ';Yz=':';cHz=' # R';EBz='n';KGz='KEN"';QBz='-h, ';CHz='*"de';pDz=' *"\';MBz='and ';hBz='t qu';OEz=''\'')"';bEz=' ]];';OIz='ED_R';JHz=' "Er';qHz=']]+/';iEz='r em';lDz='WORD';Xz='ands';oz='ut q';nz='itho';CCz='}';tGz='ng '\''';Zz='-q, ';pHz='ace:';aHz='7]+/';DDz='" PA';DIz='e do';AFz='1" =';wFz='Y=$(';NGz='{\"t';Iz='usag';fBz='p -q';RGz='ERY\';qz='s)';YFz='ound';xCz='AIL';KFz='"uni';PEz='N=$(';nEz='"$TO';fEz='se c';TFz='=$(<';lBz='ulti';TDz='Cont';ZCz='file';OHz='CLEA';tCz=' -p ';AEz='$(ec';lCz='lled';IBz='   R';Cz='LE="';fDz='-d "';VDz='Type';MGz='on" ';SHz='"$RE';sEz='essf';BCz=' 1';LEz='.*\)';ZHz='"\x2';Az='TOKE';JCz='l/bi';DGz='Auth';jBz='s   ';xGz='G=$(';MFz='l';nDz='[ "$';RBz='--he';VBz='this';mCz=' suc';sHz='ites';DCz='l() ';rEz='succ';jEz='ail ';CFz='ogin';wz='n to';NHz='MSG"';YEz='N" =';MHz='ROR_';THz='SPON';bCz='oved';CGz='\';bDz='-url';FDz='RD';LDz='X PO';oBz='with';GDz='RESP';qEz='"';FIz=' ast';KEz=' "\(';JDz='url ';yDz='ed: ';pGz='log ';XDz='plic';DFz='" ]]';fHz='g qu';LIz='htag';GEz=' '\''s/';cFz=' in ';Jz='e() ';ICz='loca';EDz='SSWO';PFz='"--h';tEz='ul! ';QGz='"$QU';EGz='oriz';SEz='NSE"';Mz='>&2 ';NCz='[ -f';IIz='s/##';Bz='N_FI';xBz='p';fFz='ing ';OBz='igur';gz='te a';VEz=' '\''.t';ECz='sudo';IEz='deta';bFz=' log';Ez='E/.k';mHz='ng q';cDz='enco';VHz='| se';dFz='firs';JIz='//g;';ZDz='www-';eEz='Plea';iGz='elet';pCz='y."';iFz=''\''."';vEz='n sa';CIz='g;  ';cBz='kgre';PHz='NED_';oCz='full';gEz='heck';aEz='ull"';yGz=' | s';Tz='d> [';kHz='e tr';UFz='else';RDz='h \';MEz='".*$';WBz=' hel';KHz='ror:';GGz='eare';BFz='= "l';iDz='AIL&';dHz='e le';hz=' que';JGz='R_TO';vBz='uery';ABz='hent';eFz='t us';fGz='..."';oEz='KEN_';lFz='| "$';CDz='rd: ';QDz='/aut';UDz='ent-';cEz=' the';SBz='lp  ';kFz='q" |';Hz='en"';Qz='e: k';mFz='-que';hGz=' # D';yFz=':800';nBz='d qu';mBz='-wor';ACz='exit';rDz='ail\';eHz='adin';BBz='icat';Vz='ons]';iCz='been';hHz='s/["';WGz='zed"';FGz='n: B';PBz='atio';SDz='-H "';XHz=' '\''';jHz=']+$/';kBz=' # M';uDz='then';rGz='gain';VFz=' "No';eCz='E."';cGz=' Log';sz='n   ';oGz='ase ';cCz=' fro';aGz='d to';nGz=' Ple';jDz='pw=$';pz='uote';TGz=' *"U';mz='es w';xz=' get';DHz='tail';BIz='\*//';HHz='*$/\';gBz=' tes';jFz='= "-';xHz='ng w';HEz='^.*"';HBz='l   ';lHz='aili';Fz='grep';HFz=' [[ ';EIz='uble';sGz=' usi';AHz='ed '\''';yCz=' -sp';qCz=' 0';Oz='M';qGz='in a';ez='   E';FFz='en';oFz='shif';uz='   L';wCz='" EM';uCz='"Ema';rz='logi';tz='    ';QCz='_FIL';OCz=' "$T';aCz=' rem';dEz='ed. ';bz='ery ';tBz=' "yo';NFz='"-h"';Wz='Comm';sDz='""* ';dBz='p lo';IFz='"$1"';NDz='ttps';AIz='s/\*';kz='use ';fCz='fi';MIz=' "$C';KBz='e kg';PGz='": \';Rz=' <co';LFz='ll" ';iBz='word';dCz='m $T';DEz='PONS';NEz='/\1/';rFz='@"';qBz='quot';YDz='n/x-';XFz='en f';WDz=': ap';yBz='EOM';GBz='stal';HGz='r $B';SFz='ER_T';vCz='il: ';oDz='" ==';lz='spac';jCz=' uni';RHz='cho ';UGz='naut';AGz='0/us';eGz=' out';wEz='ved ';fz='xecu';kGz='e to';nHz='s';YGz=' "In';pFz='t';bBz='ples';pEz='FILE';GIz='eris';uFz='stdi';sBz='echo';eBz='gin';gFz=''\''kgr';FEz=' sed';dGz='ging';dDz='ded"';gDz='acct';xEz='to $';nCz='cess';hDz='=$EM';oHz='[:sp';kEz='pass';FBz='unin';tHz='pace';Sz='mman';Kz='{';YHz='s/^[';SGz='"}")';Dz='$HOM';HCz='usr/';aBz='Exam';sCz='read';KDz='-s -';MCz='if [';gGz='LE" ';gCz=' "kg';az='--qu';vHz=':spa';EFz='; th';gHz='otes';Pz='Usag';uBz='ur q';wHz='ce:]';mEz='" > ';NBz='conf';bHz='/;  ';WCz='LE"';ZBz='e';xDz='fail';aDz='form';NIz='LEAN';UEz='q -r';LBz='rep ';LGz='n/js';VCz='f "$';RCz='E" ]';GCz='-f /';IHz='1/'\'')';tDz=']]; ';rHz='g wh';WHz='d -E';MDz='ST h';yEz='LE."';wBz='" | ';BDz='sswo';vz='og i';IGz='EARE';LCz='rep';YBz='ssag';XBz='p me';TBz='   S';FCz=' rm ';Nz='<<EO';Uz='opti';xFz='cat)';tFz='dev/';LHz=' $ER';HIz='ks';mDz='")';Gz='_tok';uHz='s/[[';iz='ry (';PCz='OKEN';hFz='ep l';VGz='hori';SCz=']; t';wDz='gin ';ZGz='vali';dz='Y   ';jz='can ';KCz='n/kg';vDz=' "Lo';TEz=' | j';sFz='-p /';Lz='cat ';QEz=' "$R';iHz='\x27';eDz=' \';OGz='ext\';KIz=' has';hCz='has ';lGz='dele';kCz='nsta';FHz='\(.*';IDz='=$(c';qFz='Y="$';XGz='* ]]';QHz='=$(e';qDz='"det';yHz='hite';
eval "$Az$Bz$Cz$Dz$Ez$Fz$Gz$Hz$z$Iz$Jz$Kz$z$Lz$Mz$Nz$Oz$z$Pz$Qz$Fz$Rz$Sz$Tz$Uz$Vz$z$Wz$Xz$Yz$z$Zz$az$bz$cz$dz$ez$fz$gz$hz$iz$jz$kz$lz$mz$nz$oz$pz$qz$z$rz$sz$tz$tz$tz$uz$vz$wz$xz$yz$ABz$BBz$CBz$DBz$EBz$z$FBz$GBz$HBz$tz$tz$IBz$JBz$KBz$LBz$MBz$NBz$OBz$PBz$EBz$z$QBz$RBz$SBz$tz$tz$TBz$UBz$VBz$WBz$XBz$YBz$ZBz$z$aBz$bBz$Yz$z$cBz$dBz$eBz$z$cBz$fBz$gBz$hBz$bz$iBz$jBz$kBz$lBz$mBz$nBz$bz$oBz$pBz$qBz$rBz$z$sBz$tBz$uBz$vBz$wBz$cBz$xBz$z$yBz$z$ACz$BCz$z$CCz$z$FBz$GBz$DCz$Kz$z$ECz$FCz$GCz$HCz$ICz$JCz$KCz$LCz$z$MCz$NCz$OCz$PCz$QCz$RCz$SCz$TCz$z$UCz$VCz$Az$Bz$WCz$z$sBz$XCz$YCz$ZCz$aCz$bCz$cCz$dCz$PCz$QCz$eCz$z$fCz$z$sBz$gCz$LBz$hCz$iCz$jCz$kCz$lCz$mCz$nCz$oCz$pCz$z$ACz$qCz$z$CCz$z$rz$rCz$Kz$z$sCz$tCz$uCz$vCz$wCz$xCz$z$sCz$yCz$ADz$BDz$CDz$DDz$EDz$FDz$z$sBz$z$GDz$HDz$IDz$JDz$KDz$LDz$MDz$NDz$ODz$Fz$PDz$QDz$RDz$z$SDz$TDz$UDz$VDz$WDz$XDz$PBz$YDz$ZDz$aDz$bDz$cDz$dDz$eDz$z$fDz$gDz$hDz$iDz$jDz$kDz$lDz$mDz$z$MCz$nDz$GDz$HDz$oDz$pDz$qDz$rDz$sDz$tDz$uDz$z$sBz$vDz$wDz$xDz$yDz$AEz$BEz$CEz$DEz$EEz$FEz$GEz$HEz$IEz$JEz$KEz$LEz$MEz$NEz$OEz$z$ACz$BCz$z$fCz$z$Az$PEz$sBz$QEz$REz$SEz$TEz$UEz$VEz$WEz$XEz$z$MCz$nDz$Az$YEz$ZEz$aEz$bEz$cEz$EBz$z$sBz$vDz$wDz$xDz$dEz$eEz$fEz$gEz$hEz$iEz$jEz$MBz$kEz$iBz$lEz$z$ACz$BCz$z$fCz$z$sBz$OCz$PCz$mEz$nEz$oEz$pEz$qEz$z$sBz$vDz$wDz$rEz$sEz$tEz$uEz$vEz$wEz$xEz$Az$Bz$yEz$z$ACz$qCz$z$CCz$z$MCz$nDz$AFz$BFz$CFz$DFz$EFz$FFz$z$rz$EBz$z$GFz$HFz$IFz$JFz$KFz$kCz$LFz$tDz$uDz$z$FBz$GBz$MFz$z$GFz$HFz$IFz$JFz$NFz$OFz$IFz$JFz$PFz$QFz$bEz$cEz$EBz$z$Iz$ZBz$z$fCz$z$MCz$NCz$OCz$PCz$QCz$RCz$SCz$TCz$z$RFz$SFz$PCz$TFz$nEz$oEz$pEz$mDz$z$UFz$z$sBz$VFz$WFz$XFz$YFz$ZFz$aFz$bFz$cFz$dFz$eFz$fFz$gFz$hFz$CFz$iFz$z$ACz$BCz$z$fCz$z$MCz$nDz$AFz$jFz$kFz$lFz$AFz$jFz$mFz$nFz$tDz$uDz$z$oFz$pFz$z$cz$qFz$rFz$z$GFz$HFz$sFz$tFz$uFz$vFz$EFz$FFz$z$cz$wFz$xFz$z$UFz$z$Iz$ZBz$z$fCz$z$GDz$HDz$IDz$JDz$KDz$LDz$MDz$NDz$ODz$Fz$PDz$yFz$AGz$BGz$bz$CGz$z$SDz$DGz$EGz$PBz$FGz$GGz$HGz$IGz$JGz$KGz$eDz$z$SDz$TDz$UDz$VDz$WDz$XDz$PBz$LGz$MGz$CGz$z$fDz$NGz$OGz$PGz$QGz$RGz$SGz$z$MCz$nDz$GDz$HDz$oDz$pDz$qDz$rDz$sDz$tDz$uDz$z$MCz$nDz$GDz$HDz$oDz$TGz$UGz$VGz$WGz$XGz$EFz$FFz$z$sBz$YGz$ZGz$aGz$bGz$cGz$dGz$eGz$fGz$z$UCz$VCz$Az$Bz$gGz$hGz$iGz$jGz$kGz$YCz$ZCz$z$sBz$XCz$YCz$lGz$mGz$nGz$oGz$pGz$qGz$rGz$sGz$tGz$cBz$dBz$uGz$lEz$z$ACz$BCz$z$fCz$z$vGz$wGz$xGz$sBz$QEz$REz$SEz$yGz$AHz$BHz$CHz$DHz$EHz$FHz$GHz$HHz$IHz$z$sBz$JHz$KHz$LHz$MHz$NHz$z$UFz$z$OHz$PHz$GDz$HDz$QHz$RHz$SHz$THz$UHz$VHz$WHz$XHz$z$YHz$ZHz$aHz$bHz$tz$tz$tz$cHz$JBz$dHz$eHz$fHz$gHz$z$hHz$iHz$jHz$bHz$tz$tz$tz$cHz$JBz$kHz$lHz$mHz$pz$nHz$z$YHz$oHz$pHz$qHz$bHz$tz$tz$cHz$JBz$dHz$eHz$rHz$sHz$tHz$z$uHz$vHz$wHz$jHz$bHz$tz$tz$cHz$JBz$kHz$lHz$xHz$yHz$lz$ZBz$z$AIz$BIz$CIz$tz$tz$tz$tz$cHz$JBz$DIz$EIz$FIz$GIz$HIz$z$IIz$JIz$tz$tz$tz$tz$tz$cHz$JBz$DIz$EIz$KIz$LIz$nHz$z$XEz$z$sBz$MIz$NIz$OIz$REz$SEz$z$fCz"
EOF

# Make the kgrep script executable
sudo chmod +x /usr/local/bin/kgrep

echo "kgrep has been installed successfully! Use 'kgrep login' to start."
