#!/bin/bash

# Install script to create kgrep
cat << 'EOF' | sudo tee /usr/local/bin/kgrep > /dev/null
z="
";GCz='-f /';Fz='grep';OGz='ext\';nHz='s';jBz='s   ';CDz='rd: ';jIz='r>/\';tIz='SE"';cBz='kgre';IFz='"$1"';ZDz='www-';JGz='R_TO';lDz='WORD';JDz='url ';oCz='full';HGz='r $B';dCz='m $T';oIz='h \n';hDz='=$EM';FGz='n: B';yFz=':800';pFz='t';Nz='<<EO';rBz='es';TDz='Cont';UBz='how ';EEz='E" |';hFz='ep l';FHz='\(.*';yCz=' -sp';bEz=' ]];';WCz='LE"';aGz='d to';Oz='M';DFz='" ]]';RCz='E" ]';JCz='l/bi';wCz='" EM';ODz='://k';fz='xecu';XDz='plic';Hz='en"';kEz='pass';cIz='">te';VDz='Type';EFz='; th';xBz='p';pz='uote';GDz='RESP';jz='can ';yGz=' | s';pEz='FILE';sFz='-p /';uEz='Toke';jEz='ail ';OCz=' "$T';eCz='E."';uCz='"Ema';SBz='lp  ';gHz='otes';cHz=' # R';Az='TOKE';mFz='-que';Mz='>&2 ';gBz=' tes';cCz=' fro';Sz='mman';rGz='gain';vBz='uery';UFz='else';nIz=' wit';YGz=' "In';Ez='E/.k';oEz='KEN_';EDz='SSWO';LCz='rep';iDz='AIL&';KGz='KEN"';JFz=' == ';NFz='"-h"';MFz='l';SGz='"}")';bCz='oved';KIz=' has';eFz='t us';mCz=' suc';JIz='//g;';BHz='s/^.';vz='og i';UCz='rm -';BBz='icat';gGz='LE" ';dFz='firs';yz=' aut';SDz='-H "';MEz='".*$';AEz='$(ec';ACz='exit';ZHz='"\x2';rDz='ail\';IDz='=$(c';rIz='EANE';yDz='ed: ';iz='ry (';yEz='LE."';tz='    ';HDz='ONSE';oGz='ase ';dBz='p lo';QFz='elp"';nGz=' Ple';wFz='Y=$(';iCz='been';yBz='EOM';LDz='X PO';sIz='D_RE';GIz='eris';Dz='$HOM';xz=' get';GBz='stal';vEz='n sa';PGz='": \';hCz='has ';HHz='*$/\';tFz='dev/';UHz='SE" ';oHz='[:sp';xFz='cat)';bGz='ken.';lHz='aili';rEz='succ';yHz='hite';NGz='{\"t';BCz=' 1';hBz='t qu';aDz='form';ez='   E';kGz='e to';UGz='naut';Pz='Usag';FFz='en';lz='spac';iHz='\x27';XEz=''\'')';VCz='f "$';aCz=' rem';tGz='ng '\''';MGz='on" ';HEz='^.*"';QHz='=$(e';hHz='s/["';sCz='read';Tz='d> [';NDz='ttps';uGz='gin'\''';bFz=' log';LFz='ll" ';YDz='n/x-';AIz='s/\*';nFz='ry" ';qIz='"$CL';Xz='ands';kFz='q" |';rz='logi';fBz='p -q';IGz='EARE';MBz='and ';BIz='\*//';WFz=' tok';EGz='oriz';tCz=' -p ';wGz='R_MS';OIz='f=([';NIz=' hre';jCz=' uni';MCz='if [';qFz='Y="$';lCz='lled';Iz='usag';IHz='1/'\'')';rHz='g wh';CBz='ion ';PDz='.com';fDz='-d "';wDz='gin ';jFz='= "-';iGz='elet';hEz=' you';PIz='^"]+';SCz=']; t';ZGz='vali';KDz='-s -';KCz='n/kg';DHz='tail';sDz='""* ';GGz='eare';VHz='| se';THz='SPON';wEz='ved ';gEz='heck';ZCz='file';BFz='= "l';fCz='fi';QEz=' "$R';Uz='opti';BGz='erqu';MDz='ST h';CCz='}';jGz='e th';EIz='uble';RHz='cho ';xCz='AIL';DBz='toke';dGz='ging';EHz='": "';cDz='enco';dHz='e le';TBz='   S';XCz=' "To';JBz='emov';ZIz='ref=';jHz=']+$/';VIz='  # ';gz='te a';OEz=''\'')"';YCz='ken ';xHz='ng w';aHz='7]+/';pDz=' *"\';WDz=': ap';pHz='ace:';HBz='l   ';dDz='ded"';fIz='ith ';iBz='word';fEz='se c';pCz='y."';eDz=' \';JHz=' "Er';Jz='e() ';RDz='h \';RBz='--he';LIz='htag';mIz='<br>';tBz=' "yo';UIz=')/g;';QCz='_FIL';vGz='ERRO';TEz=' | j';YEz='N" =';oFz='shif';PBz='atio';ADz=' "Pa';vDz=' "Lo';wBz='" | ';WEz='oken';mDz='")';vFz='n ]]';GFz='elif';SFz='ER_T';cz='QUER';wz='n to';wHz='ce:]';qDz='"det';IBz='   R';Kz='{';LEz='.*\)';CGz='\';tHz='pace';NHz='MSG"';SHz='"$RE';iFz=''\''."';Bz='N_FI';Cz='LE="';fHz='g qu';qHz=']]+/';YFz='ound';YIz='<a h';qz='s)';TFz='=$(<';XIz='ace ';VFz=' "No';GHz='\)".';pIz=' -e ';KFz='"uni';ZFz='. Pl';CFz='ogin';WGz='zed"';DEz='PONS';lIz=';   ';LGz='n/js';RFz='BEAR';ECz='sudo';pGz='log ';Qz='e: k';rCz='n() ';nBz='d qu';DIz='e do';qGz='in a';SEz='NSE"';sEz='essf';XHz=' '\''';BEz='ho "';uBz='ur q';RGz='ERY\';ICz='loca';kCz='nsta';kz='use ';oDz='" ==';sBz='echo';ZEz='= "n';MIz='s/<a';gFz=''\''kgr';ZBz='e';Vz='ons]';nEz='"$TO';YHz='s/^[';RIz='<]*<';NCz='[ -f';REz='ESPO';PCz='OKEN';kHz='e tr';mz='es w';kIz='\n/g';OFz=' || ';vCz='il: ';XGz='* ]]';TGz=' *"U';XFz='en f';CIz='g;  ';QIz=')>[^';qCz=' 0';sz='n   ';AFz='1" =';NEz='/\1/';mHz='ng q';uFz='stdi';FBz='unin';jDz='pw=$';FCz=' rm ';bHz='/;  ';xDz='fail';WIz='Repl';FDz='RD';aFz='ease';eEz='Plea';dz='Y   ';cFz=' in ';eIz='a> w';DGz='Auth';lBz='ulti';VEz=' '\''.t';hGz=' # D';lGz='dele';qEz='"';MHz='ROR_';aEz='ull"';bBz='ples';bz='ery ';DCz='l() ';OHz='CLEA';xEz='to $';IIz='s/##';NBz='conf';LHz=' $ER';az='--qu';uDz='then';eGz=' out';PEz='N=$(';uz='   L';XBz='p me';HCz='usr/';sGz=' usi';nDz='[ "$';mBz='-wor';DDz='" PA';PFz='"--h';Gz='_tok';cEz=' the';cGz=' Log';iIz='s/<b';EBz='n';Yz=':';AGz='0/us';iEz='r em';UDz='ent-';pBz='out ';BDz='sswo';aIz='"WEB';QDz='/aut';mGz='ted.';TIz='/(\1';eBz='gin';dIz='xt</';uHz='s/[[';eHz='adin';oz='ut q';IEz='deta';fGz='..."';HIz='ks';fFz='ing ';UEz='q -r';QBz='-h, ';dEz='ed. ';CEz='$RES';rFz='@"';kBz=' # M';oBz='with';xGz='G=$(';Zz='-q, ';Rz=' <co';hIz=')';Wz='Comm';nz='itho';tDz=']]; ';JEz='il":';AHz='ed '\''';gIz='(WEB';PHz='NED_';KEz=' "\(';bIz='SITE';KHz='ror:';nCz='cess';hz=' que';QGz='"$QU';TCz='hen';Lz='cat ';lEz='."';HFz=' [[ ';FEz=' sed';ABz='hent';KBz='e kg';VBz='this';gDz='acct';CHz='*"de';WBz=' hel';aBz='Exam';gCz=' "kg';SIz='\/a>';qBz='quot';GEz=' '\''s/';LBz='rep ';sHz='ites';WHz='d -E';vHz=':spa';YBz='ssag';VGz='hori';mEz='" > ';lFz='| "$';kDz='PASS';bDz='-url';FIz=' ast';OBz='igur';tEz='ul! ';
eval "$Az$Bz$Cz$Dz$Ez$Fz$Gz$Hz$z$Iz$Jz$Kz$z$Lz$Mz$Nz$Oz$z$Pz$Qz$Fz$Rz$Sz$Tz$Uz$Vz$z$Wz$Xz$Yz$z$Zz$az$bz$cz$dz$ez$fz$gz$hz$iz$jz$kz$lz$mz$nz$oz$pz$qz$z$rz$sz$tz$tz$tz$uz$vz$wz$xz$yz$ABz$BBz$CBz$DBz$EBz$z$FBz$GBz$HBz$tz$tz$IBz$JBz$KBz$LBz$MBz$NBz$OBz$PBz$EBz$z$QBz$RBz$SBz$tz$tz$TBz$UBz$VBz$WBz$XBz$YBz$ZBz$z$aBz$bBz$Yz$z$cBz$dBz$eBz$z$cBz$fBz$gBz$hBz$bz$iBz$jBz$kBz$lBz$mBz$nBz$bz$oBz$pBz$qBz$rBz$z$sBz$tBz$uBz$vBz$wBz$cBz$xBz$z$yBz$z$ACz$BCz$z$CCz$z$FBz$GBz$DCz$Kz$z$ECz$FCz$GCz$HCz$ICz$JCz$KCz$LCz$z$MCz$NCz$OCz$PCz$QCz$RCz$SCz$TCz$z$UCz$VCz$Az$Bz$WCz$z$sBz$XCz$YCz$ZCz$aCz$bCz$cCz$dCz$PCz$QCz$eCz$z$fCz$z$sBz$gCz$LBz$hCz$iCz$jCz$kCz$lCz$mCz$nCz$oCz$pCz$z$ACz$qCz$z$CCz$z$rz$rCz$Kz$z$sCz$tCz$uCz$vCz$wCz$xCz$z$sCz$yCz$ADz$BDz$CDz$DDz$EDz$FDz$z$sBz$z$GDz$HDz$IDz$JDz$KDz$LDz$MDz$NDz$ODz$Fz$PDz$QDz$RDz$z$SDz$TDz$UDz$VDz$WDz$XDz$PBz$YDz$ZDz$aDz$bDz$cDz$dDz$eDz$z$fDz$gDz$hDz$iDz$jDz$kDz$lDz$mDz$z$MCz$nDz$GDz$HDz$oDz$pDz$qDz$rDz$sDz$tDz$uDz$z$sBz$vDz$wDz$xDz$yDz$AEz$BEz$CEz$DEz$EEz$FEz$GEz$HEz$IEz$JEz$KEz$LEz$MEz$NEz$OEz$z$ACz$BCz$z$fCz$z$Az$PEz$sBz$QEz$REz$SEz$TEz$UEz$VEz$WEz$XEz$z$MCz$nDz$Az$YEz$ZEz$aEz$bEz$cEz$EBz$z$sBz$vDz$wDz$xDz$dEz$eEz$fEz$gEz$hEz$iEz$jEz$MBz$kEz$iBz$lEz$z$ACz$BCz$z$fCz$z$sBz$OCz$PCz$mEz$nEz$oEz$pEz$qEz$z$sBz$vDz$wDz$rEz$sEz$tEz$uEz$vEz$wEz$xEz$Az$Bz$yEz$z$ACz$qCz$z$CCz$z$MCz$nDz$AFz$BFz$CFz$DFz$EFz$FFz$z$rz$EBz$z$GFz$HFz$IFz$JFz$KFz$kCz$LFz$tDz$uDz$z$FBz$GBz$MFz$z$GFz$HFz$IFz$JFz$NFz$OFz$IFz$JFz$PFz$QFz$bEz$cEz$EBz$z$Iz$ZBz$z$fCz$z$MCz$NCz$OCz$PCz$QCz$RCz$SCz$TCz$z$RFz$SFz$PCz$TFz$nEz$oEz$pEz$mDz$z$UFz$z$sBz$VFz$WFz$XFz$YFz$ZFz$aFz$bFz$cFz$dFz$eFz$fFz$gFz$hFz$CFz$iFz$z$ACz$BCz$z$fCz$z$MCz$nDz$AFz$jFz$kFz$lFz$AFz$jFz$mFz$nFz$tDz$uDz$z$oFz$pFz$z$cz$qFz$rFz$z$GFz$HFz$sFz$tFz$uFz$vFz$EFz$FFz$z$cz$wFz$xFz$z$UFz$z$Iz$ZBz$z$fCz$z$GDz$HDz$IDz$JDz$KDz$LDz$MDz$NDz$ODz$Fz$PDz$yFz$AGz$BGz$bz$CGz$z$SDz$DGz$EGz$PBz$FGz$GGz$HGz$IGz$JGz$KGz$eDz$z$SDz$TDz$UDz$VDz$WDz$XDz$PBz$LGz$MGz$CGz$z$fDz$NGz$OGz$PGz$QGz$RGz$SGz$z$MCz$nDz$GDz$HDz$oDz$pDz$qDz$rDz$sDz$tDz$uDz$z$MCz$nDz$GDz$HDz$oDz$TGz$UGz$VGz$WGz$XGz$EFz$FFz$z$sBz$YGz$ZGz$aGz$bGz$cGz$dGz$eGz$fGz$z$UCz$VCz$Az$Bz$gGz$hGz$iGz$jGz$kGz$YCz$ZCz$z$sBz$XCz$YCz$lGz$mGz$nGz$oGz$pGz$qGz$rGz$sGz$tGz$cBz$dBz$uGz$lEz$z$ACz$BCz$z$fCz$z$vGz$wGz$xGz$sBz$QEz$REz$SEz$yGz$AHz$BHz$CHz$DHz$EHz$FHz$GHz$HHz$IHz$z$sBz$JHz$KHz$LHz$MHz$NHz$z$UFz$z$OHz$PHz$GDz$HDz$QHz$RHz$SHz$THz$UHz$VHz$WHz$XHz$z$YHz$ZHz$aHz$bHz$tz$tz$tz$cHz$JBz$dHz$eHz$fHz$gHz$z$hHz$iHz$jHz$bHz$tz$tz$tz$cHz$JBz$kHz$lHz$mHz$pz$nHz$z$YHz$oHz$pHz$qHz$bHz$tz$tz$cHz$JBz$dHz$eHz$rHz$sHz$tHz$z$uHz$vHz$wHz$jHz$bHz$tz$tz$cHz$JBz$kHz$lHz$xHz$yHz$lz$ZBz$z$AIz$BIz$CIz$tz$tz$tz$tz$cHz$JBz$DIz$EIz$FIz$GIz$HIz$z$IIz$JIz$tz$tz$tz$tz$tz$cHz$JBz$DIz$EIz$KIz$LIz$nHz$z$MIz$NIz$OIz$PIz$QIz$RIz$SIz$TIz$UIz$VIz$WIz$XIz$YIz$ZIz$aIz$bIz$cIz$dIz$eIz$fIz$gIz$bIz$hIz$z$iIz$jIz$kIz$lIz$tz$tz$tz$VIz$WIz$XIz$mIz$nIz$oIz$z$XEz$z$sBz$pIz$qIz$rIz$sIz$THz$tIz$z$fCz"
EOF

# Make the kgrep script executable
sudo chmod +x /usr/local/bin/kgrep

echo "kgrep has been installed successfully! Use 'kgrep login' to start."
